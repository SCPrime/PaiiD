# üöÄ Render Dashboard Setup Guide

**Platform**: Render (Backend Hosting)
**Service**: PaiiD Backend API
**URL**: https://ai-trader-86a1.onrender.com

---

## üìç Step 1: Access Render Dashboard

1. Go to: https://dashboard.render.com
2. Log in with your account
3. Find your backend service (likely named `paiid-backend` or `ai-trader`)

---

## üîß Step 2: Configure Environment Variables

Click on your backend service, then:
1. Click **"Environment"** in the left sidebar
2. You'll see existing variables - we need to UPDATE them with new keys

---

## üîê Step 3: Add/Update These Variables

### Required Variables (9 total)

Click "Edit" or "Add Environment Variable" for each:

| Variable Name | Value | Notes |
|---------------|-------|-------|
| `API_TOKEN` | `tuGlKvrYEoiJcv7r7oIy7zXM9pqVnaxN_74obFz6lVo` | Frontend-backend authentication |
| `ANTHROPIC_API_KEY` | `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` | Claude AI (NEW KEY) |
| `TRADIER_API_KEY` | `1tIR8iQL9epAwNcc7HSXPuCypjkf` | Tradier broker (NEW KEY) |
| `TRADIER_ACCOUNT_ID` | `6YB64299` | Your Tradier account |
| `TRADIER_USE_SANDBOX` | `false` | Production mode |
| `TRADIER_API_BASE_URL` | `https://api.tradier.com/v1` | API endpoint |
| `ALLOW_ORIGIN` | `https://frontend-scprimes-projects.vercel.app` | CORS (frontend URL) |
| `LIVE_TRADING` | `false` | Paper trading mode (SAFE) |
| `TRADING_MODE` | `paper` | Paper mode |

### Optional Variables (Already Set)

These should already exist from your previous configuration:
- `ALPHA_VANTAGE_API_KEY`
- `POLYGON_API_KEY`
- `FINNHUB_API_KEY`
- `REDIS_URL` (auto-generated by Render)

---

## ‚öôÔ∏è Step 4: Save Changes

1. After adding/editing each variable, click **"Save Changes"**
2. Render will automatically **redeploy** your service with new variables
3. Wait for deployment to complete (usually 2-3 minutes)

---

## üîç Step 5: Verify Deployment

### Watch Deployment Logs

1. Click "Logs" tab in Render dashboard
2. Watch for:
   ```
   ===== BACKEND STARTUP =====
   .env path: ...
   API_TOKEN from env: rnd_bDRqi1TvLvd3rC78yvUSgDraH2Kl
   ===========================

   Uvicorn running on http://0.0.0.0:10000 (Press CTRL+C to quit)
   ```
3. Look for `INFO: Application startup complete`

### Test Health Endpoint

Open in browser or use curl:
```bash
curl https://ai-trader-86a1.onrender.com/api/health
```

**Expected response:**
```json
{
  "status": "ok",
  "time": "2025-10-11T...",
  "redis": {"connected": false}
}
```

---

## ‚úÖ Verification Checklist

- [ ] All 9 required environment variables added
- [ ] Service redeployed successfully
- [ ] No errors in deployment logs
- [ ] Health endpoint returns `{"status":"ok"}`
- [ ] Backend accessible at https://ai-trader-86a1.onrender.com

---

## üêõ Troubleshooting

### Issue: "Build failed"
**Solution**: Check logs for missing dependencies in `requirements.txt`

### Issue: "Service unhealthy"
**Solution**:
1. Check environment variables are set correctly
2. Verify no typos in variable names
3. Check logs for Python errors

### Issue: "502 Bad Gateway"
**Solution**: Service may still be starting - wait 1-2 minutes and retry

### Issue: "CORS errors"
**Solution**: Verify `ALLOW_ORIGIN` matches your Vercel frontend URL exactly

---

## üìù Notes

1. **Free Tier**: Render free tier spins down after 15 minutes of inactivity
   - First request after spin-down takes ~30 seconds
   - This is normal behavior

2. **Secret Rotation**: When you rotate API keys in the future:
   - Update them in Render dashboard
   - Service will auto-redeploy

3. **Multiple Environments**: Render only has Production
   - Use `TRADING_MODE=paper` for safety
   - Set `LIVE_TRADING=false` to prevent real money trades

---

## üîó Quick Links

- **Dashboard**: https://dashboard.render.com
- **Your Service**: https://dashboard.render.com/web/[your-service-id]
- **Backend URL**: https://ai-trader-86a1.onrender.com
- **API Docs**: https://ai-trader-86a1.onrender.com/docs

---

**Next Step**: Configure Vercel (see VERCEL_SETUP_GUIDE.md)
